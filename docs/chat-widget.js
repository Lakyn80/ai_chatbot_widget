(function(i,l){typeof exports=="object"&&typeof module<"u"?l(require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react","react-dom"],l):(i=typeof globalThis<"u"?globalThis:i||self,l(i.React,i.ReactDOM))})(this,function(i,l){"use strict";function j(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var x={exports:{}},p={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b;function C(){if(b)return p;b=1;var e=i,t=Symbol.for("react.element"),a=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,d=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function h(r,o,y){var s,c={},g=null,_=null;y!==void 0&&(g=""+y),o.key!==void 0&&(g=""+o.key),o.ref!==void 0&&(_=o.ref);for(s in o)u.call(o,s)&&!f.hasOwnProperty(s)&&(c[s]=o[s]);if(r&&r.defaultProps)for(s in o=r.defaultProps,o)c[s]===void 0&&(c[s]=o[s]);return{$$typeof:t,type:r,key:g,ref:_,props:c,_owner:d.current}}return p.Fragment=a,p.jsx=h,p.jsxs=h,p}var v;function O(){return v||(v=1,x.exports=C()),x.exports}var n=O(),m={},w;function k(){if(w)return m;w=1;var e=l;return m.createRoot=e.createRoot,m.hydrateRoot=e.hydrateRoot,m}var E=k();const R=j(E);function N({themeColor:e,introMessage:t}){const[a,u]=i.useState([{sender:"bot",text:t}]),[d,f]=i.useState(""),h=async()=>{if(!d.trim())return;const r={sender:"user",text:d};u(c=>[...c,r]),f("");const s={sender:"bot",text:(await(await fetch("https://aichatbotwidget-production.up.railway.app/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:d})})).json()).response};u(c=>[...c,s])};return n.jsxs("div",{className:"bg-white p-4 max-w-sm",children:[n.jsx("div",{className:"space-y-2 mb-3 max-h-60 overflow-y-auto",children:a.map((r,o)=>n.jsx("div",{className:`p-2 rounded-xl text-sm ${r.sender==="user"?"bg-pink-100 text-right":"bg-pink-200 text-left"}`,children:r.text},o))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{className:"flex-1 border border-pink-300 rounded-full px-3 py-1 text-sm",value:d,onChange:r=>f(r.target.value),placeholder:"Napi코te zpr치vu..."}),n.jsx("button",{className:"bg-pink-500 text-white px-3 py-1 rounded-full text-sm",onClick:h,children:"Odeslat"})]})]})}function S({introMessage:e="Ahoj! R치da ti porad칤m s n치ramky 游땕",themeColor:t="#ec4899"}){const[a,u]=i.useState(!1),d=()=>u(!a);return n.jsxs(n.Fragment,{children:[n.jsx("div",{onClick:d,className:"fixed bottom-4 right-4 bg-pink-500 text-white px-4 py-2 rounded-full shadow-lg cursor-pointer z-50",style:{backgroundColor:t},children:a?"Zav콏칤t":"Chat o n치ramc칤ch"}),a&&n.jsx("div",{className:"fixed bottom-16 right-4 z-50",children:n.jsx(N,{introMessage:e,themeColor:t})})]})}window.ChatbotWidget={init:(e={})=>{if(document.getElementById("chatbot-widget-container"))return;const t=document.createElement("div");t.id="chatbot-widget-container",t.style.position="fixed",t.style.bottom="24px",t.style.right="24px",t.style.zIndex="9999",t.style.boxShadow="0 0 10px rgba(0,0,0,0.15)",t.style.borderRadius="16px",t.style.overflow="hidden",document.body.appendChild(t),R.createRoot(t).render(n.jsx(S,{themeColor:e.themeColor||"#ec4899",introMessage:e.introMessage||"Ahoj! Jak v치m mohu pomoci s na코imi n치ramky?"}))},destroy:()=>{const e=document.getElementById("chatbot-widget-container");e&&(R.createRoot(e).unmount(),e.remove())}},window.addEventListener("DOMContentLoaded",()=>{window.ChatbotWidget&&!document.getElementById("chatbot-widget-container")&&window.ChatbotWidget.init()})});
