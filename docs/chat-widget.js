(function(i,u){typeof exports=="object"&&typeof module<"u"?u(require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react","react-dom"],u):(i=typeof globalThis<"u"?globalThis:i||self,u(i.React,i.ReactDOM))})(this,function(i,u){"use strict";function R(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b={exports:{}},l={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g;function _(){if(g)return l;g=1;var t=i,a=Symbol.for("react.element"),h=Symbol.for("react.fragment"),p=Object.prototype.hasOwnProperty,y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v={key:!0,ref:!0,__self:!0,__source:!0};function d(s,r,f){var e,n={},c=null,x=null;f!==void 0&&(c=""+f),r.key!==void 0&&(c=""+r.key),r.ref!==void 0&&(x=r.ref);for(e in r)p.call(r,e)&&!v.hasOwnProperty(e)&&(n[e]=r[e]);if(s&&s.defaultProps)for(e in r=s.defaultProps,r)n[e]===void 0&&(n[e]=r[e]);return{$$typeof:a,type:s,key:c,ref:x,props:n,_owner:y.current}}return l.Fragment=h,l.jsx=d,l.jsxs=d,l}var w;function j(){return w||(w=1,b.exports=_()),b.exports}var o=j(),m={},k;function N(){if(k)return m;k=1;var t=u;return m.createRoot=t.createRoot,m.hydrateRoot=t.hydrateRoot,m}var O=N();const C=R(O);function E({themeColor:t="#ec4899",introMessage:a="Ahoj! Jak vám mohu pomoci s našimi náramky?",apiBaseUrl:h="https://aichatbotwidget-production.up.railway.app"}){const[p,y]=i.useState(!1),[v,d]=i.useState([{from:"bot",text:a}]),[s,r]=i.useState(""),f=async()=>{if(!s.trim())return;const e={from:"user",text:s};d(n=>[...n,e]),r("");try{const x={from:"bot",text:(await(await fetch(`${h}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s})})).json()).response};d(S=>[...S,x])}catch{d(c=>[...c,{from:"bot",text:"❌ Chyba při komunikaci se serverem."}])}};return o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>y(!p),className:"bg-pink-500 hover:bg-pink-600 text-white px-4 py-2 rounded-full shadow-lg fixed bottom-4 right-4 z-[9999]",children:p?"Zavřít":"💬 Chat"}),p&&o.jsxs("div",{className:"w-80 h-[480px] bg-white border border-pink-300 rounded-2xl fixed bottom-20 right-4 z-[9999] flex flex-col overflow-hidden shadow-xl",children:[o.jsx("div",{className:"text-white text-center py-2 font-semibold",style:{backgroundColor:t},children:"🤖 Náramkový Asistent"}),o.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 bg-pink-50 text-sm",children:v.map((e,n)=>o.jsx("div",{className:`px-4 py-2 rounded-2xl max-w-[85%] ${e.from==="user"?"ml-auto bg-pink-200 text-right":"mr-auto bg-white border border-pink-200"}`,children:e.text},n))}),o.jsx("div",{className:"p-3 bg-white border-t border-pink-200",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-pink-300 rounded-full focus:outline-none focus:ring-2 focus:ring-pink-400 text-sm",placeholder:"Napište zprávu…",value:s,onChange:e=>r(e.target.value),onKeyDown:e=>e.key==="Enter"&&f()}),o.jsx("button",{onClick:f,className:"bg-pink-500 hover:bg-pink-600 text-white px-4 py-2 rounded-full text-sm",children:"Odeslat"})]})})]})]})}window.ChatbotWidget={init:(t={})=>{if(document.getElementById("chatbot-widget-container"))return;const a=document.createElement("div");a.id="chatbot-widget-container",document.body.appendChild(a),C.createRoot(a).render(o.jsx(E,{...t}))}}});
//# sourceMappingURL=chat-widget.js.map
